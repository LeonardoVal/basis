<!-- tester.html:
	Test case runner in HTML so the Javascript can be tested in browser engines.

	@author <a href="mailto:leonardo.val@creatartis.com">Leonardo Val</a>
	@licence MIT Licence
-->
<html><head>
	<link rel="stylesheet" type="text/css" href="tester.css"/>
	<script src="../node_modules/requirejs/require.js"></script>
</head><body onload="main();">
	<div id="log" class="log"></div>
</td></tr></table>
<script type="text/javascript">
	function main() { "use strict";
		var TESTS = [
				'test_basis', 'test_randomness', 'test_async', 'test_iterables',
				'test_stats'
			].map(function (name) {
				return 'tests/'+ name;
			});
		require.config({ baseUrl: '../' });
		require(['basis'], function (basis) {
			basis.Logger.ROOT
				.appendToHtml("log")
				.format = basis.Logger.ROOT.htmlFormat();
			basis.Future.sequence(TESTS, function (path) {
				basis.Logger.ROOT.info("Running test at <", path, ">.");
				return basis.Future.imports(path).then(function (imports) {
					var verifier = imports[0];
					verifier.logger = basis.Logger.ROOT;	
					return verifier.run();
				});
			});
		});
	}	
</script>
</body></html>